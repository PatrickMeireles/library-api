–
eC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Command\Author\CreateAuthorCommand.cs
	namespace 	
Library
 
. 
Domain 
. 
Command  
.  !
Author! '
;' (
public 
class 
CreateAuthorCommand  
:! "
IRequest# +
<+ ,
CommandReturnDto, <
>< =
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public		 

string		 
Name		 
{		 
get		 
;		 
set		 !
;		! "
}		# $
=		% &
string		' -
.		- .
Empty		. 3
;		3 4
public

 

string

 
	Biography

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
=

* +
string

, 2
.

2 3
Empty

3 8
;

8 9
public 

DateTime 
DateOfBirth 
{  !
get" %
;% &
set' *
;* +
}, -
public 

CreateAuthorCommand 
( 
)  
{ 
Id 

= 
Guid 
. 
NewGuid 
( 
) 
; 
} 
} ≈
eC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Command\Author\RemoveAuthorCommand.cs
	namespace 	
Library
 
. 
Domain 
. 
Command  
.  !
Author! '
;' (
public 
class 
RemoveAuthorCommand  
:! "
IRequest# +
<+ ,
CommandReturnDto, <
>< =
{ 
public 

Guid 
Id 
{ 
get 
; 
private !
set" %
;% &
}' (
public

 

RemoveAuthorCommand

 
(

 
Guid

 #
id

$ &
)

& '
{ 
Id 

= 
id 
; 
} 
} Œ

eC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Command\Author\UpdateAuthorCommand.cs
	namespace 	
Library
 
. 
Domain 
. 
Command  
.  !
Author! '
;' (
public 
class 
UpdateAuthorCommand  
:! "
IRequest# +
<+ ,
CommandReturnDto, <
>< =
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public		 

string		 
Name		 
{		 
get		 
;		 
set		 !
;		! "
}		# $
=		% &
string		' -
.		- .
Empty		. 3
;		3 4
public

 

string

 
	Biography

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
=

* +
string

, 2
.

2 3
Empty

3 8
;

8 9
public 

DateTime 
DateOfBirth 
{  !
get" %
;% &
set' *
;* +
}, -
public 

UpdateAuthorCommand 
( 
)  
{ 
} 
} Ω
[C:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Command\Book\BookCommand.cs
	namespace 	
Library
 
. 
Domain 
. 
Command  
.  !
Book! %
;% &
public 
abstract 
class 
BookCommand !
:" #
IRequest$ ,
<, -
CommandReturnDto- =
>= >
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public		 

string		 
Title		 
{		 
get		 
;		 
set		 "
;		" #
}		$ %
=		& '
$str		( *
;		* +
public

 

string

 
Description

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
=

, -
$str

. 0
;

0 1
public 

int 
YearPublication 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

int 
Pages 
{ 
get 
; 
set 
;  
}! "
public 

int 
BookType 
{ 
get 
; 
set "
;" #
}$ %
public 

int 
Genre 
{ 
get 
; 
set 
;  
}! "
public 

ICollection 
< 
Guid 
> 
Authors $
{% &
get' *
;* +
set, /
;/ 0
}1 2
=3 4
new5 8
List9 =
<= >
Guid> B
>B C
(C D
)D E
;E F
} §
aC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Command\Book\CreateBookCommand.cs
	namespace 	
Library
 
. 
Domain 
. 
Command  
.  !
Book! %
;% &
public 
class 
CreateBookCommand 
:  
IRequest! )
<) *
CommandReturnDto* :
>: ;
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public		 

string		 
Title		 
{		 
get		 
;		 
set		 "
;		" #
}		$ %
=		& '
$str		( *
;		* +
public

 

string

 
Description

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
=

, -
$str

. 0
;

0 1
public 

int 
YearPublication 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

int 
Pages 
{ 
get 
; 
set 
;  
}! "
public 

int 
BookType 
{ 
get 
; 
set "
;" #
}$ %
public 

int 
Genre 
{ 
get 
; 
set 
;  
}! "
public 

ICollection 
< 
Guid 
> 
Authors $
{% &
get' *
;* +
set, /
;/ 0
}1 2
=3 4
new5 8
List9 =
<= >
Guid> B
>B C
(C D
)D E
;E F
public 

CreateBookCommand 
( 
) 
{ 
Id 

= 
Guid 
. 
NewGuid 
( 
) 
; 
} 
} ª
aC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Command\Book\RemoveBookCommand.cs
	namespace 	
Library
 
. 
Domain 
. 
Command  
.  !
Book! %
;% &
public 
class 
RemoveBookCommand 
:  
IRequest! )
<) *
CommandReturnDto* :
>: ;
{ 
public 

Guid 
Id 
{ 
get 
; 
private !
set" %
;% &
}' (
public

 

RemoveBookCommand

 
(

 
Guid

 !
id

" $
)

$ %
{ 
Id 

= 
id 
; 
} 
} ä
aC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Command\Book\UpdateBookCommand.cs
	namespace 	
Library
 
. 
Domain 
. 
Command  
.  !
Book! %
;% &
public 
class 
UpdateBookCommand 
:  
BookCommand! ,
{ 
} ⁄
XC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Constants\CachePrefix.cs
	namespace 	
Library
 
. 
Domain 
. 
	Constants "
;" #
public 
static 
class 
CachePrefix 
{ 
public 

const 
string 
AuthorCachePrefix )
=* +
$str, 5
;5 6
public 

const 
string 
BookCachePrefix '
=( )
$str* 1
;1 2
} ˛
WC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\DTO\Author\AuthorDto.cs
	namespace 	
Library
 
. 
Domain 
. 
DTO 
. 
Author #
;# $
public 
abstract 
class 
	AuthorDto 
{ 
[ 
Required 
] 
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
=% &
string' -
.- .
Empty. 3
;3 4
[

 
Required

 
]

 
public 

string 
	Biography 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
[ 
Required 
] 
public 

DateTime 
DateOfBirth 
{  !
get" %
;% &
set' *
;* +
}, -
} °
aC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\DTO\Author\AuthorQueryParamDto.cs
	namespace 	
Library
 
. 
Domain 
. 
DTO 
. 
Author #
;# $
public 
class 
AuthorQueryParamDto  
{ 
public 

Guid 
[ 
] 
Id 
{ 
get 
; 
set 
;  
}! "
=# $
Array% *
.* +
Empty+ 0
<0 1
Guid1 5
>5 6
(6 7
)7 8
;8 9
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
=% &
string' -
.- .
Empty. 3
;3 4
} Ç
^C:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\DTO\Author\AuthorRequestDto.cs
	namespace 	
Library
 
. 
Domain 
. 
DTO 
. 
Author #
;# $
public 
class 
AuthorRequestDto 
: 
	AuthorDto  )
{ 
} 
_C:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\DTO\Author\AuthorResponseDto.cs
	namespace 	
Library
 
. 
Domain 
. 
DTO 
. 
Author #
;# $
public 
class 
AuthorResponseDto 
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
=% &
string' -
.- .
Empty. 3
;3 4
public 

string 
	Biography 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public

 

DateTime

 
DateOfBirth

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
} ï
\C:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\DTO\Base\CommandReturnDto.cs
	namespace 	
Library
 
. 
Domain 
. 
DTO 
. 
Base !
;! "
public 
class 
CommandReturnDto 
{ 
public 

bool 
Success 
{ 
get 
; 
private &
set' *
;* +
}, -
public 

CommandReturnDto 
( 
) 
=>  
Success 
= 
false 
; 
public

 

void

 
Successfully

 
(

 
)

 
=>

 !
Success 
= 
true 
; 
public 

void 
Unsuccessfully 
( 
)  
=>! #
Success 
= 
false 
; 
} Ö
XC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\DTO\Base\EnumResponse.cs
	namespace 	
Library
 
. 
Domain 
. 
DTO 
. 
Base !
;! "
public 
class 
EnumResponse 
{ 
public 

int 
Key 
{ 
get 
; 
private !
set" %
;% &
}' (
public 

string 
Description 
{ 
get  #
;# $
private% ,
set- 0
;0 1
}2 3
public 

EnumResponse 
( 
int 
key 
,  
string! '
description( 3
)3 4
{ 
Key		 
=		 
key		 
;		 
Description

 
=

 
description

 !
;

! "
} 
} Ñ

[C:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\DTO\Base\PaginateRequest.cs
	namespace 	
Library
 
. 
Domain 
. 
DTO 
. 
Base !
{ 
public 

class 
PaginateRequest  
{ 
const 
int 
_minPage 
= 
$num 
; 
const 
int 
_maxSize 
= 
$num 
;  
[

 	
	MinLength

	 
(

 
_minPage

 
)

 
]

 
public 
int 
page 
{ 
get 
; 
set "
;" #
}$ %
=& '
$num( )
;) *
[ 	
	MinLength	 
( 
_maxSize 
) 
] 
public 
int 
size 
{ 
get 
; 
set "
;" #
}$ %
=& '
$num( *
;* +
public 
PaginateRequest 
( 
)  
{ 	
} 	
} 
} ¬
]C:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\DTO\Book\BookQueryParamDto.cs
	namespace 	
Library
 
. 
Domain 
. 
DTO 
. 
Book !
;! "
public 
class 
BookQueryParamDto 
{ 
public 

Guid 
[ 
] 
Id 
{ 
get 
; 
set 
;  
}! "
=# $
Array% *
.* +
Empty+ 0
<0 1
Guid1 5
>5 6
(6 7
)7 8
;8 9
public 

string 
Title 
{ 
get 
; 
set "
;" #
}$ %
=& '
string( .
.. /
Empty/ 4
;4 5
public 

Guid 
[ 
] 
AuthorId 
{ 
get  
;  !
set" %
;% &
}' (
=) *
Array+ 0
.0 1
Empty1 6
<6 7
Guid7 ;
>; <
(< =
)= >
;> ?
public 

int 
YearPublication 
{  
get! $
;$ %
set& )
;) *
}+ ,
public		 

int		 
BookType		 
{		 
get		 
;		 
set		 "
;		" #
}		$ %
public

 

int

 
Genre

 
{

 
get

 
;

 
set

 
;

  
}

! "
} ê
ZC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\DTO\Book\BookRequestDto.cs
	namespace 	
Library
 
. 
Domain 
. 
DTO 
. 
Book !
;! "
public 
class 
BookRequestDto 
{ 
[ 
Required 
] 
[		 
	MaxLength		 
(		 
$num		 
)		 
]		 
public

 

string

 
Title

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
=

& '
$str

( *
;

* +
[ 
Required 
] 
public 

string 
Description 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
$str. 0
;0 1
[ 
Required 
] 
public 

int 
YearPublication 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 
Required 
] 
public 

int 
Pages 
{ 
get 
; 
set 
;  
}! "
[ 
Required 
] 
[ 
EnumDataType 
( 
typeof 
( 
BookType !
)! "
)" #
]# $
public 

int 
BookType 
{ 
get 
; 
set "
;" #
}$ %
[ 
Required 
] 
[ 
EnumDataType 
( 
typeof 
( 
Genre 
) 
)  
]  !
public 

int 
Genre 
{ 
get 
; 
set 
;  
}! "
[ 
Required 
, 
	MinLength 
( 
$num 
) 
] 
public 

ICollection 
< 
Guid 
> 
Authors $
{% &
get' *
;* +
set, /
;/ 0
}1 2
=3 4
new5 8
List9 =
<= >
Guid> B
>B C
(C D
)D E
;E F
} œ
[C:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\DTO\Book\BookResponseDto.cs
	namespace 	
Library
 
. 
Domain 
. 
DTO 
. 
Book !
;! "
public 
record 
BookResponseDto 
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public 

string 
Title 
{ 
get 
; 
set "
;" #
}$ %
=& '
string( .
.. /
Empty/ 4
;4 5
public		 

string		 
Description		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
=		, -
string		. 4
.		4 5
Empty		5 :
;		: ;
public

 

int

 
YearPublication

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 

int 
Pages 
{ 
get 
; 
set 
;  
}! "
public 

EnumResponse 
BookType  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
null1 5
!5 6
;6 7
public 

EnumResponse 
Genre 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
null. 2
!2 3
;3 4
public 

IEnumerable 
< 
Guid 
> 
Authors $
{% &
get' *
;* +
set, /
;/ 0
}1 2
=3 4
null5 9
!9 :
;: ;
} ˇ
PC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Enum\BookType.cs
	namespace 	
Library
 
. 
Domain 
. 
Enum 
; 
public 
enum 
BookType 
{ 
Papper 

,
 
eBook 	
,	 

	AudioBook 
} °
MC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Enum\Genre.cs
	namespace 	
Library
 
. 
Domain 
. 
Enum 
; 
public 
enum 
Genre 
{ 
ScienceFiction 
, 
Fantasy 
, 
Romance 
, 
Thriller 
, 
Mistery		 
,		 
Horror

 

,


 
	Adventure 
, 
Drama 	
,	 


Historical 
, 
Peotry 

,
 
Other 	
} Ω
_C:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Message\Author\AuthorMessage.cs
	namespace 	
Library
 
. 
Domain 
. 
Message  
.  !
Author! '
;' (
public 
class 
AuthorMessage 
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
=% &
string' -
.- .
Empty. 3
;3 4
public 

string 
	Biography 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 

DateTime 
DateOfBirth 
{  !
get" %
;% &
set' *
;* +
}, -
public

 

DateTime

 
	CreatedAt

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
} ®
eC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Message\Author\CreateAuthorMessage.cs
	namespace 	
Library
 
. 
Domain 
. 
Message  
.  !
Author! '
;' (
public 
sealed 
class 
CreateAuthorMessage '
:( )
AuthorMessage* 7
{ 
} œ
eC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Message\Author\RemoveAuthorMessage.cs
	namespace 	
Library
 
. 
Domain 
. 
Message  
.  !
Author! '
;' (
public 
class 
RemoveAuthorMessage  
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public 

RemoveAuthorMessage 
( 
Guid #
id$ &
)& '
{ 
Id		 

=		 
id		 
;		 
}

 
} ®
eC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Message\Author\UpdateAuthorMessage.cs
	namespace 	
Library
 
. 
Domain 
. 
Message  
.  !
Author! '
;' (
public 
sealed 
class 
UpdateAuthorMessage '
:( )
AuthorMessage* 7
{ 
} ó
aC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Message\Book\BookAuthorMessage.cs
	namespace 	
Library
 
. 
Domain 
. 
Message  
.  !
Book! %
;% &
public 
class 
BookAuthorMessage 
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public 

Guid 
BookId 
{ 
get 
; 
set !
;! "
}# $
public 

Guid 
AuthorId 
{ 
get 
; 
set  #
;# $
}% &
public		 

BookAuthorMessage		 
(		 
)		 
{

 
} 
} ö
[C:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Message\Book\BookMessage.cs
	namespace 	
Library
 
. 
Domain 
. 
Message  
.  !
Book! %
;% &
public 
class 
BookMessage 
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public 

string 
Title 
{ 
get 
; 
set "
;" #
}$ %
=& '
$str( *
;* +
public		 

string		 
Description		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
=		, -
$str		. 0
;		0 1
public

 

int

 
YearPublication

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 

int 
Pages 
{ 
get 
; 
set 
;  
}! "
public 

BookType 
BookType 
{ 
get "
;" #
set$ '
;' (
}) *
public 

Genre 
Genre 
{ 
get 
; 
set !
;! "
}# $
public 

List 
< 
BookAuthorMessage !
>! "
BookAuthors# .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
== >
new? B
ListC G
<G H
BookAuthorMessageH Y
>Y Z
(Z [
)[ \
;\ ]
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

BookMessage 
( 
) 
{ 
} 
} û
aC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Message\Book\CreateBookMessage.cs
	namespace 	
Library
 
. 
Domain 
. 
Message  
.  !
Book! %
;% &
public 
sealed 
class 
CreateBookMessage %
:& '
BookMessage( 3
{ 
} ∆
aC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Message\Book\RemoveBookMessage.cs
	namespace 	
Library
 
. 
Domain 
. 
Message  
.  !
Book! %
;% &
public 
record 
RemoveBookMessage 
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public 

RemoveBookMessage 
( 
Guid !
id" $
)$ %
{ 
Id		 

=		 
id		 
;		 
}

 
} û
aC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Message\Book\UpdateBookMessage.cs
	namespace 	
Library
 
. 
Domain 
. 
Message  
.  !
Book! %
;% &
public 
sealed 
class 
UpdateBookMessage %
:& '
BookMessage( 3
{ 
} Ø
OC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Model\Author.cs
	namespace 	
Library
 
. 
Domain 
. 
Model 
; 
public 
class 
Author 
: 
AggregateRoot #
{ 
public 

string 
Name 
{ 
get 
; 
init "
;" #
}$ %
public 

string 
	Biography 
{ 
get !
;! "
init# '
;' (
}) *
public		 

DateTime		 
DateOfBirth		 
{		  !
get		" %
;		% &
init		' +
;		+ ,
}		- .
public 

ICollection 
< 

BookAuthor !
>! "
BookAuthors# .
{/ 0
get1 4
;4 5
private6 =
set> A
;A B
}C D
=E F
newG J
ListK O
<O P

BookAuthorP Z
>Z [
([ \
)\ ]
;] ^
public 

Author 
( 
Guid 
id 
) 
: 
base !
(! "
id" $
)$ %
{ 
} 
	protected 
Author 
( 
Guid 
id 
, 
string $
name% )
,) *
string+ 1
	biography2 ;
,; <
DateTime= E
dateOfBirthF Q
)Q R
:S T
baseU Y
(Y Z
idZ \
)\ ]
{ 
Name 
= 
name 
; 
	Biography 
= 
	biography 
; 
DateOfBirth 
= 
dateOfBirth !
;! "
} 
public 

static 
Author 
Create 
(  
Guid  $
id% '
,' (
string) /
name0 4
,4 5
string6 <
	biography= F
,F G
DateTimeH P
dateOfBirthQ \
)\ ]
{ 
var 
author 
= 
new 
Author 
(  
id  "
," #
name$ (
,( )
	biography* 3
,3 4
dateOfBirth5 @
)@ A
;A B
return 
author 
; 
} 
public 

static 
Author 
Update 
(  
Guid  $
id% '
,' (
string) /
name0 4
,4 5
string6 <
	biography= F
,F G
DateTimeH P
dateOfBirthQ \
)\ ]
{   
var!! 
author!! 
=!! 
new!! 
Author!! 
(!!  
id!!  "
,!!" #
name!!$ (
,!!( )
	biography!!* 3
,!!3 4
dateOfBirth!!5 @
)!!@ A
;!!A B
author"" 
."" 
SetUpdatedAt"" 
("" 
DateTime"" $
.""$ %
Now""% (
)""( )
;"") *
return$$ 
author$$ 
;$$ 
}%% 
}&& Ó
[C:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Model\Base\AggregateRoot.cs
	namespace 	
Library
 
. 
Domain 
. 
Model 
. 
Base #
;# $
public 
abstract 
class 
AggregateRoot #
:$ %
Entity& ,
{ 
	protected 
AggregateRoot 
( 
Guid  
id! #
)# $
:% &
base' +
(+ ,
id, .
). /
{ 
} 
} ˘
TC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Model\Base\Entity.cs
	namespace 	
Library
 
. 
Domain 
. 
Model 
. 
Base #
;# $
public 
abstract 
class 
Entity 
{ 
[ 
Key 
] 	
public 

Guid 
Id 
{ 
get 
; 
	protected #
set$ '
;' (
}) *
public		 

DateTime		 
	CreatedAt		 
{		 
get		  #
;		# $
	protected		% .
set		/ 2
;		2 3
}		4 5
=		6 7
DateTime		8 @
.		@ A
Now		A D
;		D E
public

 

DateTime

 
?

 
	UpdatedAt

 
{

  
get

! $
;

$ %
	protected

& /
set

0 3
;

3 4
}

5 6
	protected 
Entity 
( 
Guid 
id 
) 
{ 
Id 

= 
id 
; 
} 
	protected 
Entity 
( 
Guid 
id 
, 
DateTime &
	updatedAt' 0
)0 1
{ 
Id 

= 
id 
; 
	UpdatedAt 
= 
	updatedAt 
; 
} 
	protected 
Entity 
( 
Guid 
id 
, 
DateTime &
	createdAt' 0
,0 1
DateTime2 :
?: ;
	updatedAt< E
)E F
{ 
Id 

= 
id 
; 
	CreatedAt 
= 
	createdAt 
; 
	UpdatedAt 
= 
	updatedAt 
; 
} 
	protected 
void 
SetUpdatedAt 
(  
DateTime  (
updateAt) 1
)1 2
{ 
	UpdatedAt   
=   
updateAt   
;   
}!! 
}"" éE
MC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Model\Book.cs
	namespace 	
Library
 
. 
Domain 
. 
Model 
; 
public 
class 
Book 
: 
AggregateRoot !
{ 
public 

string 
Title 
{ 
get 
; 
init #
;# $
}% &
=' (
$str) +
;+ ,
public		 

string		 
Description		 
{		 
get		  #
;		# $
init		% )
;		) *
}		+ ,
=		- .
$str		/ 1
;		1 2
public

 

int

 
YearPublication

 
{

  
get

! $
;

$ %
init

& *
;

* +
}

, -
public 

int 
Pages 
{ 
get 
; 
init  
;  !
}" #
public 

BookType 
BookType 
{ 
get "
;" #
init$ (
;( )
}* +
public 

Genre 
Genre 
{ 
get 
; 
init "
;" #
}$ %
public 

ICollection 
< 

BookAuthor !
>! "
BookAuthors# .
{/ 0
get1 4
;4 5
init6 :
;: ;
}< =
=> ?
new@ C
ListD H
<H I

BookAuthorI S
>S T
(T U
)U V
;V W
public 

Book 
( 
Guid 
id 
) 
: 
base 
(  
id  "
)" #
{ 
} 
private 
Book 
( 
Guid 
id 
, 
string  
title! &
,& '
string( .
description/ :
,: ;
int< ?
yearPublication@ O
,O P
intQ T
pagesU Z
,Z [
BookType\ d
bookTypee m
,m n
Genreo t
genreu z
,z {
ICollection	| á
<
á à

BookAuthor
à í
>
í ì
bookAuthors
î ü
)
ü †
:
° ¢
base
£ ß
(
ß ®
id
® ™
)
™ ´
{ 
Title 
= 
title 
; 
Description 
= 
description !
;! "
YearPublication 
= 
yearPublication )
;) *
Pages 
= 
pages 
; 
BookType 
= 
bookType 
; 
Genre 
= 
genre 
; 
BookAuthors 
= 
bookAuthors !
;! "
} 
public 

static 
Book 
Create 
( 
Guid "
id# %
,% &
string' -
title. 3
,3 4
string5 ;
description< G
,G H
intI L
yearPublicationM \
,\ ]
int^ a
pagesb g
,g h
BookTypei q
bookTyper z
,z {
Genre	| Å
genre
Ç á
,
á à
ICollection
â î
<
î ï

BookAuthor
ï ü
>
ü †
bookAuthors
° ¨
)
¨ ≠
{   
return!! 
new!! 
(!! 
id!! 
,!! 
title!! 
,!! 
description!! )
,!!) *
yearPublication!!+ :
,!!: ;
pages!!< A
,!!A B
bookType!!C K
,!!K L
genre!!M R
,!!R S
bookAuthors!!T _
)!!_ `
;!!` a
}"" 
public$$ 

static$$ 
Book$$ 
Create$$ 
($$ 
Guid$$ "
id$$# %
,$$% &
string$$' -
title$$. 3
,$$3 4
string$$5 ;
description$$< G
,$$G H
int$$I L
yearPublication$$M \
,$$\ ]
int$$^ a
pages$$b g
,$$g h
BookType$$i q
bookType$$r z
,$$z {
Genre	$$| Å
genre
$$Ç á
,
$$á à
ICollection
$$â î
<
$$î ï
Guid
$$ï ô
>
$$ô ö
authors
$$õ ¢
)
$$¢ £
{%% 
var&& 
book&& 
=&& 
new&& 
Book&& 
(&& 
id&& 
,&& 
title'' 
,'' 
description(( 
,(( 
yearPublication)) 
,)) 
pages** 
,** 
bookType++ 
,++ 
genre,, 
,,, 
authors-- 
.-- 
Select-- 
(-- 
authorId-- #
=>--$ &
new.. 

BookAuthor.. "
(.." #
Guid..# '
...' (
NewGuid..( /
(../ 0
)..0 1
,..1 2
id//$ &
,//& '
authorId00$ ,
)00, -
)00- .
.11 
ToList11 
(11 
)11 
)11 
;11 
return33 
book33 
;33 
}44 
public55 

static55 
Book55 
Update55 
(55 
Guid55 "
id55# %
,55% &
string55' -
title55. 3
,553 4
string555 ;
description55< G
,55G H
int55I L
yearPublication55M \
,55\ ]
int55^ a
pages55b g
,55g h
BookType55i q
bookType55r z
,55z {
Genre	55| Å
genre
55Ç á
,
55á à
ICollection
55â î
<
55î ï

BookAuthor
55ï ü
>
55ü †
bookAuthors
55° ¨
)
55¨ ≠
{66 
var77 
book77 
=77 
new77 
Book77 
(77 
id77 
,77 
title77  %
,77% &
description77' 2
,772 3
yearPublication774 C
,77C D
pages77E J
,77J K
bookType77L T
,77T U
genre77V [
,77[ \
bookAuthors77] h
)77h i
;77i j
book88 
.88 
SetUpdatedAt88 
(88 
DateTime88 "
.88" #
UtcNow88# )
)88) *
;88* +
return:: 
book:: 
;:: 
};; 
public<< 

static<< 
Book<< 
Update<< 
(<< 
Guid<< "
id<<# %
,<<% &
string<<' -
title<<. 3
,<<3 4
string<<5 ;
description<<< G
,<<G H
int<<I L
yearPublication<<M \
,<<\ ]
int<<^ a
pages<<b g
,<<g h
BookType<<i q
bookType<<r z
,<<z {
Genre	<<| Å
genre
<<Ç á
,
<<á à
ICollection
<<â î
<
<<î ï
Guid
<<ï ô
>
<<ô ö
authors
<<õ ¢
)
<<¢ £
{== 
var>> 
book>> 
=>> 
new>> 
Book>> 
(>> 
id>> 
,>> 
title?? 
,?? 
description@@ 
,@@ 
yearPublicationAA 
,AA 
pagesBB 
,BB 
bookTypeCC 
,CC 
genreDD 
,DD 
authorsEE 
.EE 
SelectEE 
(EE 
authorIdEE #
=>EE$ &
newFF 

BookAuthorFF "
(FF" #
GuidFF# '
.FF' (
NewGuidFF( /
(FF/ 0
)FF0 1
,FF1 2
idGG$ &
,GG& '
authorIdHH$ ,
)HH, -
)HH- .
.II 
ToListII 
(II 
)II 
)II 
;II 
bookKK 
.KK 
SetUpdatedAtKK 
(KK 
DateTimeKK "
.KK" #
UtcNowKK# )
)KK) *
;KK* +
returnMM 
bookMM 
;MM 
}NN 
publicPP 

voidPP 

AddAuthorsPP 
(PP 

BookAuthorPP %

bookAuthorPP& 0
)PP0 1
=>PP2 4
BookAuthorsQQ 
.QQ 
AddQQ 
(QQ 

bookAuthorQQ "
)QQ" #
;QQ# $
}RR Ø
SC:\Users\patrick.amorim\source\repos\Library\src\Library.Domain\Model\BookAuthor.cs
	namespace 	
Library
 
. 
Domain 
. 
Model 
; 
public 
class 

BookAuthor 
: 
Entity  
{ 
public 

Guid 
BookId 
{ 
get 
; 
private %
set& )
;) *
}+ ,
public 

Guid 
AuthorId 
{ 
get 
; 
private  '
set( +
;+ ,
}- .
public

 

Book

 
Book

 
{

 
get

 
;

 
private

 #
set

$ '
;

' (
}

) *
=

+ ,
null

- 1
!

1 2
;

2 3
public 

Author 
Author 
{ 
get 
; 
private  '
set( +
;+ ,
}- .
=/ 0
null1 5
!5 6
;6 7
public 


BookAuthor 
( 
Guid 
id 
, 
Guid #
bookId$ *
,* +
Guid, 0
authorId1 9
)9 :
:; <
base= A
(A B
idB D
)D E
{ 
BookId 
= 
bookId 
; 
AuthorId 
= 
authorId 
; 
} 
public 


BookAuthor 
( 
Guid 
id 
) 
:  
base! %
(% &
id& (
)( )
{ 
} 
} 